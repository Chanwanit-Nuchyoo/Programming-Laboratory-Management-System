<!-- nav_body -->
<div class="col-lg-10 col-md-10 col-sm-10" style="margin-left:220px;margin-right:30px">
	

	<div class="row" >
		<div class="col-md-4 col-lg-4">
			<h2 style="color:blue;">Exercise list</h2>
		</div>

		<div class="col-md-3 col-lg-3">		
			<h2 style="color:blue;">
				<select id="chapter" onchange="chapterLevelFilter()" >
					<option value="00">All Chapters</option>
					<option value="01"> Chapter 1 </option>
					<option value="02"> Chapter 2 </option>
					<option value="03"> Chapter 3 </option>
					<option value="04"> Chapter 4 </option>
					<option value="05"> Chapter 5 </option>
					<option value="06"> Chapter 6 </option>
					<option value="07"> Chapter 7 </option>
					<option value="08"> Chapter 8 </option>
					<option value="09"> Chapter 9 </option>
					<option value="10"> Chapter 10 </option>
					<option value="11"> Chapter 11 </option>
				</select>
			</h2>
		</div>
		<div class="col-md-3 col-lg-3">		
			<h2 style="color:blue;">
				<select id="level" onchange="chapterLevelFilter()">
					<option value="00"> All Levels </option>
					<option value="01"> Level 1 </option>
					<option value="02"> Level 2 </option>
					<option value="03"> Level 3 </option>
					<option value="04"> Level 4 </option>
					<option value="05"> Level 5 </option>				
				</select>
			</h2>
		</div>
		<div class="col-md-2 col-lg-2">	
			<h2 style="color:blue;">
				<button>123456789</button>
			</h2>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12 col-lg-12">
			<div class="table-responsive">
				<table class="table table-bordered table-hover" id="myTable">
					<thead>
						<tr>
							<th>NO.</th>
							<th>Chapter</th>
							<th>Level</th>
							<th>Name</th>
							<th style="width-max:400px;">Content</th>
							<th>Testing</th>
							<th>Edit</th>
							<th>Remove</th>
						</tr>
					</thead>
					<tbody>
						<?php $count=1; ?>
						<tr>
							<?php foreach ($query->result() as $row) { ?>
							<td>
								<?php echo $count; ?>
							</td>
							
							<td><?php echo $row->lab_chapter; ?></td>
							
							<td><?php echo $row->lab_level; ?></td>

							<td>
								<?php echo $row->lab_name; ?>
							</td>

							<td>								
								<?php echo $row->lab_content; ?>							
							</td>
							
							<td> 
								<form action="<?php echo site_url('supervisor/exercise_test')?>" id="exercise_test" method="post" name="exercise_test">
									<button type="submit" class="btn btn-info">TEST</button>
									<input type="text" name="exercise_id" hidden value="<?php echo  $row->exercise_id; ?>" >
							
								</form>
							</td>

							<td> 
								<form action="<?php echo site_url('supervisor/exercise_edit')?>" id="exercise_edit" method="post" name="exercise_edit">
									<button type="submit" class="btn btn-primary" 
										<?php 
											if($_SESSION['username'] != $row->added_by) 
												echo "hidden";
										?>
									>Edit</button>
									<input type="text" name="exercise_id" hidden value="<?php echo  $row->exercise_id; ?>" >
							
								</form>
							</td>

							<td> 
								<form action="<?php echo site_url('supervisor/exercise_remove')?>" id="exercise_remove" method="post" name="exercise_remove">
									<button type="submit" class="btn btn-warning" 
										<?php 
											if($_SESSION['username'] != $row->added_by) 
												echo "hidden";
										?>
									>Remove</button>
									<input type="text" name="exercise_id" hidden value="<?php echo  $row->exercise_id; ?>" >
							
								</form>
							</td>
						</tr>						
						<?php $count++; } ?>

						
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="row" style="margin-bottom:20px;">
		<a href="<?php echo site_url('supervisor/exercise_add')?>" type="button" class="btn btn-info btn-lg ">Add Exercise</a>
	</div>
	
	

	<script>
		$(document).ready(function() {
			$('#summernote').summernote({
				height: 500,                 // set editor height
				width:240,					// set editor height
				minHeight: null,             // set minimum height of editor
				maxHeight: null,             // set maximum height of editor
				focus: true,                  // set focus to editable area after initializing summernote
				airmode: true
			});
		});
	</script>
	<script>
		function chapterLevelFilter() {
			
			var chapter, level, table, tr, td_chapter, td_level, i,count;
			chapter = Number(document.getElementById("chapter").value);
			level	= Number(document.getElementById("level").value);
			table = document.getElementById("myTable");
			tr = table.getElementsByTagName("tr");
			
			for (i = 1,count=1; i < tr.length; i++) {
				td_count = tr[i].getElementsByTagName("td")[0];
				td_chapter = Number(tr[i].getElementsByTagName("td")[1].innerHTML);
				td_level   = Number(tr[i].getElementsByTagName("td")[2].innerHTML);

				//alert("row : "+i+'\nchapter:td_chapter --- '+chapter+':'+td_chapter+" ==> "+ (chapter == td_chapter)+" \nlevel:td_level --- "+level+':'+td_level+" ==> "+ (chapter.value == td_chapter));
				if ( (td_chapter == chapter || chapter == 0)   &&  (td_level == level || level ==0) ) {
					//alert('condition 1:');
					tr[i].style.display = "";
					td_count.innerHTML = count;
					count++;
				} else {
					//alert('condition 4:');
					tr[i].style.display = "none";
				}

				
			}
			
			
		}
	</script>
</div>
<!-- nav_body -->